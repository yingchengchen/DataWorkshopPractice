<html>

    <head>
        <title>UC Davis Campus Food Map</title>
        
        
        <!--Load the Leaflet CSS file -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
        
        <!--Load the Leaflet JavaScript file -->
        <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
    
    </head>

    <body>
    <h1>UC Davis Campus Food Map</h1>
    <p>This webmap shows the locations of UC Davis campus grab-and-go dining options.</p>

    <div id="mapid" style="width: 600px; height: 400px;"></div>

    <script src="campus_food.js" type="text/javascript"></script>
    
    <script>
        //add an empty map called "foodmap" to the page in the mapid div
        var foodmap = L.map('mapid', {
            center: [38.538592, -121.75],
            zoom: 15
            });

        //add the base map = Stamen Toner tile layer
        var Stamen_Toner = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}.{ext}', {
            attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
            subdomains: 'abcd',
            minZoom: 0,
            maxZoom: 20,
            ext: 'png'
            });
            foodmap.addLayer(Stamen_Toner);

        //add a marker for the Quad with a tooltip
        //Quad coordinates: 38.541162, -121.749371
        var marker = new L.marker([38.541112, -121.749350], {
            opacity: 1.0   //teardrop marker opacity may be set to zero
            });             
            marker.bindTooltip("<b>Quad</b>", { });
            marker.addTo(foodmap);
        
        //add food points from the GeoJSON (campus_food.js) file
        var foodpoints = L.geoJSON(campus_food, {  
            pointToLayer: function(feature, latlng){  //the parameters feature (each row in the data) and latlng (the geometry) from the geojson data
                return L.circleMarker(latlng, {color: 'orange', radius: 8});
            },
            onEachFeature: function(feature, layer){
                layer.bindPopup("<img src = 'img/"+feature.properties.img_name +"' width='259'><br><b> Name: </b>"+feature.properties.Name+"<br><b> Description: </b>"+feature.properties.description);
            }
        }).addTo(foodmap);
    
    
    </script>
    </body>

</html>